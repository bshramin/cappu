(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{312:function(e,t){},315:function(e,t){},318:function(e,t){},322:function(e,t){},349:function(e,t){},351:function(e,t){},365:function(e,t){},367:function(e,t){},397:function(e,t){},399:function(e,t){},489:function(e,t){},490:function(e,t){},584:function(e,t,n){},588:function(e,t,n){},589:function(e,t,n){},590:function(e,t,n){},591:function(e,t,n){},592:function(e,t,n){},593:function(e,t,n){},595:function(e,t,n){},600:function(e,t,n){},602:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(63),s=n.n(r),o=n(76),i=n(22),c=n(272),l=n(665),u=n(42),d=n(10),p=n(26),b=n.n(p),j=n(35),m=n.n(j),f=n(667),h=n(671),y=n(675),x=n(674),O=n(669),v=n(672),g=n(673),w=n(670),k=n(659),T=n(664),C=n(666),S=n(663),N=(n(584),n(2)),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function I(e){var t=e.children,n=e.show,a=e.onClose;return Object(N.jsx)(S.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:a,closeAfterTransition:!0,BackdropComponent:T.a,BackdropProps:{timeout:500},children:Object(N.jsx)(C.a,{sx:M,children:t})})}var A=function(e){if(e.message){var t=e.message.split("'");return t.length>1?JSON.parse(t[1]).value.data.message:e.message}return e},E="ropsten",F="https://speedy-nodes-nyc.moralis.io/91eaf4d08216c15dcf25aa72/eth/ropsten",W="0xf1359760a1b37a9f8d85341E72cEF0644DB660A1",z=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"data",type:"string"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumberOfTokenHolders",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumberOfMintedTokens",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],G=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("Connecting to Wallet..."),"undefined"!==typeof window.ethereum){e.next=5;break}return console.info("MetaMask is not installed!"),alert("You need to install the Metamask extension."),e.abrupt("return");case 5:return(t=new m.a(m.a.givenProvider||F)).eth.net.getNetworkType().then((function(e){if(e!==E)return console.info("Wrong network!"),void alert("You need to connect your wallet to the ropsten network.")})),e.next=9,t.eth.requestAccounts();case 9:n=e.sent,window.sessionStorage.setItem("account",n[0]),window.location.reload();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){return window.sessionStorage.getItem("account")},B=function(){return!!window.sessionStorage.getItem("account")};n(588);function Y(e){var t=e.show,n=e.tokenId,r=e.onSuccess,s=e.onError,o=e.onClose,i=Object(a.useState)(),c=Object(d.a)(i,2),l=c[0],p=c[1],j=Object(a.useState)(),h=Object(d.a)(j,2),y=h[0],x=h[1],O=Object(a.useState)(),v=Object(d.a)(O,2),g=v[0],w=v[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=P(),n=new m.a(m.a.givenProvider||F),a=new n.eth.Contract(z,W),x(a),p(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var T=function(){var e=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.methods.safeTransferFrom(l,g,n).send({from:l}).then((function(){console.info("Sent successfully"),r()})).catch((function(e){console.error(e),s(A(e))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),s(A(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(I,{show:t,onClose:o,children:Object(N.jsxs)("div",{className:"transfer-token-container",children:[Object(N.jsx)(k.a,{placeholder:"Destination address...",onChange:function(e){w(e.target.value)}}),Object(N.jsx)(f.a,{onClick:T,children:"Send Token"})]})})}var D=n(668);n(589);function H(e){var t=e.show,n=e.onClose,a=e.color,r=e.text;return Object(N.jsx)(I,{show:t,onClose:n,children:Object(N.jsx)(D.a,{id:"transition-modal-title",variant:"h6",component:"h2",color:a,children:r})})}n(590);function L(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),o=Object(d.a)(s,2),i=o[0],c=o[1],l=Object(a.useState)(),p=Object(d.a)(l,2),j=p[0],k=p[1],T=Object(a.useState)(),C=Object(d.a)(T,2),S=C[0],M=C[1],I=Object(a.useState)(null),A=Object(d.a)(I,2),G=A[0],B=A[1],D=Object(a.useState)(null),L=Object(d.a)(D,2),J=L[0],R=L[1],U=Object(a.useState)(null),_=Object(d.a)(U,2),q=_[0],V=_[1];Object(a.useEffect)((function(){K()}),[]);var K=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,a,s,o,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P(),r(t),!t){e.next=19;break}return n=new m.a(m.a.givenProvider||F),a=new n.eth.Contract(z,W),e.next=7,n.eth.net.getNetworkType();case 7:if(s=e.sent,c(s),s===E){e.next=12;break}return console.info("Wrong network!"),e.abrupt("return");case 12:return e.next=14,a.methods.getUserTokens(t).call();case 14:o=e.sent,i=o[0],l=o[1],k(i),M(l);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"my-tokens-container",children:[n?i!==E?Object(N.jsxs)("span",{children:[" ","You need to connect your wallet to the ropsten network."]}):j&&S?0===j.length||0===S?Object(N.jsx)("span",{children:"You have no tokens yet"}):Object(N.jsx)(O.a,{component:w.a,children:Object(N.jsxs)(h.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(N.jsx)(v.a,{children:Object(N.jsxs)(g.a,{children:[Object(N.jsx)(x.a,{children:"Token ID"}),Object(N.jsx)(x.a,{align:"center",children:"Token Data"}),Object(N.jsx)(x.a,{align:"center",children:"Actions"})]})}),Object(N.jsx)(y.a,{children:j.map((function(e,t){var n=e.toString();return Object(N.jsxs)(g.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(N.jsx)(x.a,{component:"th",scope:"row",children:n.substring(0,5)+"..."+n.substring(n.length-5)}),Object(N.jsx)(x.a,{align:"center",children:S[t]}),Object(N.jsx)(x.a,{align:"center",children:Object(N.jsx)(f.a,{onClick:function(){B(G===e?null:e)},children:"Transfer"})})]},e)}))})]})}):Object(N.jsx)("span",{children:"Failed to load tokens"}):Object(N.jsx)("span",{children:"Connect your wallet"}),Object(N.jsx)(Y,{show:!!G,tokenId:G,onError:function(e){R(e),V("red"),B(null)},onSuccess:function(){R("Token transferred successfully"),V("green"),B(null),K()},onClose:function(){B(null)}}),Object(N.jsx)(H,{show:!!J,onClose:function(){B(null),R(null),V(null)},color:q,text:J})]})}n(591);var J=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),o=Object(d.a)(s,2),i=o[0],c=o[1],l=Object(a.useState)(),p=Object(d.a)(l,2),j=p[0],h=p[1],y=Object(a.useState)(),x=Object(d.a)(y,2),O=x[0],v=x[1],g=Object(a.useState)(),w=Object(d.a)(g,2),T=w[0],C=w[1],S=Object(a.useState)(),M=Object(d.a)(S,2),I=M[0],G=M[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(P()),t=new m.a(m.a.givenProvider||F),n=new t.eth.Contract(z,W),h(n),e.next=6,t.eth.net.getNetworkType();case 6:a=e.sent,c(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var B=function(){var e=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.methods.mint(O).send({from:n}).then((function(){console.info("Minted"),G(!0)})).catch((function(e){G(!1),C(A(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"mint-container",children:[n?i!==E?Object(N.jsxs)("span",{children:[" ","You need to connect your wallet to the ropsten network."]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(k.a,{placeholder:"Insert token data here...",multiline:!0,minRows:"4",className:"mint-input",onChange:function(e){return v(e.target.value)}}),Object(N.jsx)(f.a,{variant:"contained",className:"mint-submit",onClick:B,children:"Mint"})]}):Object(N.jsx)("span",{children:"Connect your wallet"}),Object(N.jsx)(H,{show:null!=I,onClose:function(){G(null),C(null)},color:I?"green":"red",text:I?"Minted":T})]})},R=n(676),U=n(269),_=n.n(U),q=n(270),V=n.n(q);n(592);function K(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),o=Object(d.a)(s,2),i=o[0],c=o[1];Object(a.useEffect)((function(){l()}),[]);var l=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new m.a(m.a.givenProvider||F),(n=new t.eth.Contract(z,W)).methods.getNumberOfTokenHolders().call().then(r),n.methods.getNumberOfMintedTokens().call().then(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"homepage-container",children:[Object(N.jsxs)("div",{className:"homepage-description",children:["Cappu is an NFT platform helping users mint and transfer data NFT tokens.",Object(N.jsx)("br",{}),"It is an open-source, work in progress, experimental ERC721 smart-contract.",Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),"This front-end currently contacts the contract deployed on the"," ",E," network, at this address:",Object(N.jsx)("br",{}),W,Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),"You need to have the Metamask extention installed and choose the"," ",E," network, then you can connect your wallet and start using the platform."]}),Object(N.jsxs)("div",{className:"homepage-info",children:[i?Object(N.jsxs)("div",{className:"homepage-info-item",children:[Object(N.jsx)("div",{className:"homepage-info-item-title",children:"Number of Minted Tokens"}),Object(N.jsx)("div",{className:"homepage-info-item-value",children:i})]}):null,n?Object(N.jsxs)("div",{className:"homepage-info-item",children:[Object(N.jsx)("div",{className:"homepage-info-item-title",children:"Current Number of Token Holders"}),Object(N.jsx)("div",{className:"homepage-info-item-value",children:n})]}):null]}),Object(N.jsx)("div",{className:"homepage-actions",children:Object(N.jsxs)(R.a,{variant:"contained","aria-label":"outlined primary button group",children:[Object(N.jsx)(f.a,{startIcon:Object(N.jsx)(_.a,{fontSize:"large",color:"background"}),onClick:function(){return window.open("https://github.com/bshramin/cappu","_blank")},children:"View on GitHub"}),Object(N.jsx)(f.a,{onClick:function(){return window.open("https://ropsten.etherscan.io/address/"+W,"_blank")},startIcon:Object(N.jsx)(V.a,{fontSize:"large",color:"background"}),children:"Explore on EtherScan"})]})})]})}var Q=n(677),X=n(679),Z=n(680),$=n(660),ee=n(271),te=n.n(ee),ne=n(678),ae=n(658),re=n(662),se=(n(593),function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(d.a)(s,2),c=i[0],l=i[1],u=Object(a.useState)(null),p=Object(d.a)(u,2),b=p[0],j=p[1],m=function(){G().then((function(){r(B())}))},h=[{title:"Mint",url:"/mint",noLogin:!1},{title:"My Tokens",url:"/my-tokens",noLogin:!1}],y=[{title:"Connect Wallet",login:!1,onClick:m},{title:"Disconnect Wallet",login:!0,onClick:function(){window.sessionStorage.removeItem("account"),window.location.reload(),r(!1)}}];Object(a.useEffect)((function(){r(B())}),[]);var x=function(){l(null)};return Object(N.jsx)(Q.a,{position:"static",children:Object(N.jsx)(ne.a,{maxWidth:"xl",children:Object(N.jsxs)(X.a,{disableGutters:!0,children:[Object(N.jsx)(D.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:Object(N.jsx)(o.b,{to:"/",children:"Cappu"})}),n?Object(N.jsxs)(C.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(N.jsx)(Z.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(N.jsx)(te.a,{})}),Object(N.jsx)($.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:x,sx:{display:{xs:"block",md:"none"}},children:h.map((function(e){return e.noLogin||n?Object(N.jsx)(re.a,{onClick:x,children:Object(N.jsx)(o.b,{to:e.url,children:Object(N.jsx)(D.a,{textAlign:"center",className:"header-nav-link-mobile",children:e.title})})},e.title):null}))})]}):null,Object(N.jsx)(D.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:Object(N.jsx)(o.b,{to:"/",children:"Cappu"})}),Object(N.jsx)(C.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:h.map((function(e){return e.noLogin||n?Object(N.jsx)(o.b,{to:e.url,className:"header-nav-item",children:Object(N.jsx)(D.a,{textAlign:"center",className:"header-nav-link-desktop",children:e.title})},e.title):null}))}),Object(N.jsxs)(C.a,{sx:{flexGrow:0},children:[Object(N.jsx)(ae.a,{title:"Wallet Options",children:Object(N.jsx)(f.a,{onClick:n?function(e){j(e.currentTarget)}:m,className:"connect-btn",sx:{p:0},children:n?function(){var e=P();if(e)return e.substring(0,5)+"..."+e.substring(e.length-5)}():"Connect Wallet"})}),Object(N.jsx)($.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:function(){j(null)},children:y.map((function(e){return e.login===n?Object(N.jsx)(re.a,{onClick:e.onClick,children:Object(N.jsx)(D.a,{textAlign:"center",children:e.title})},e.title):null}))})]})]})})})}),oe=(n(595),function(){return Object(N.jsx)(Q.a,{position:"static",children:Object(N.jsx)(ne.a,{maxWidth:"xl",children:Object(N.jsx)(X.a,{disableGutters:!0,children:Object(N.jsx)(D.a,{className:"footer-copyright",children:"Cappu, The NFT Platform."})})})})}),ie=(n(596),n(597),n(598),n(599),n(600),Object(c.a)({palette:{mode:"light",primary:{dark:"#7b5e57",main:"#4e342e",light:"#260e04"},secondary:{dark:"#6a4f4b",main:"#3e2723",light:"#1b0000"},background:{default:"#eeeeee",light:"#f5f5f5",dark:"#424242"}}}));s.a.render(Object(N.jsx)(l.a,{theme:ie,children:Object(N.jsxs)(o.a,{basename:"/cappu",children:[Object(N.jsx)(se,{}),Object(N.jsx)("div",{className:"main-section",children:Object(N.jsxs)(i.c,{children:[Object(N.jsx)(i.a,{path:"/",element:Object(N.jsx)(K,{})}),Object(N.jsx)(i.a,{path:"my-tokens",element:Object(N.jsx)(L,{})}),Object(N.jsx)(i.a,{path:"mint",element:Object(N.jsx)(J,{})})]})}),Object(N.jsx)(oe,{})]})}),document.getElementById("root"))}},[[602,1,2]]]);
//# sourceMappingURL=main.d74b69a4.chunk.js.map