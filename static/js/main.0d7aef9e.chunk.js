(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{305:function(e,t){},308:function(e,t){},311:function(e,t){},315:function(e,t){},342:function(e,t){},344:function(e,t){},358:function(e,t){},360:function(e,t){},390:function(e,t){},392:function(e,t){},482:function(e,t){},483:function(e,t){},577:function(e,t,n){},581:function(e,t,n){},582:function(e,t,n){},583:function(e,t,n){},584:function(e,t,n){},585:function(e,t,n){},589:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(63),i=n.n(s),r=n(75),o=n(22),c=n(47),l=n(10),u=n(27),p=n.n(u),d=n(41),b=n.n(d),j=n(659),y=n(665),f=n(669),m=n(668),h=n(663),x=n(666),O=n(667),v=n(664),g=n(653),w=n(658),T=n(661),k=n(657),C=(n(577),n(2)),S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function M(e){var t=e.children,n=e.show,a=e.onClose;return Object(C.jsx)(k.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:a,closeAfterTransition:!0,BackdropComponent:w.a,BackdropProps:{timeout:500},children:Object(C.jsx)(T.a,{sx:S,children:t})})}var I=function(e){if(e.message){var t=e.message.split("'");return t.length>1?JSON.parse(t[1]).value.data.message:e.message}return e},A="https://speedy-nodes-nyc.moralis.io/91eaf4d08216c15dcf25aa72/eth/ropsten",F="0x44AB078dEEF96Bd38d00FcDc3e2F1634CF8bD9C3",E=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getString",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"string",name:"x",type:"string"}],name:"setString",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"data",type:"string"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeSendToken",outputs:[],stateMutability:"nonpayable",type:"function"}],N=function(){var e=Object(c.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("Connecting to Wallet..."),"undefined"!==typeof window.ethereum){e.next=5;break}return console.info("MetaMask is not installed!"),alert("You need to install the Metamask extension."),e.abrupt("return");case 5:return t=new b.a(b.a.givenProvider||A),e.next=8,t.eth.requestAccounts();case 8:n=e.sent,window.sessionStorage.setItem("account",n[0]),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){return window.sessionStorage.getItem("account")},B=function(){return!!window.sessionStorage.getItem("account")};n(581);function D(e){var t=e.show,n=e.tokenId,s=e.onSuccess,i=e.onError,r=e.onClose,o=Object(a.useState)(),u=Object(l.a)(o,2),d=u[0],y=u[1],f=Object(a.useState)(),m=Object(l.a)(f,2),h=m[0],x=m[1],O=Object(a.useState)(),v=Object(l.a)(O,2),w=v[0],T=v[1];Object(a.useEffect)((function(){var e=function(){var e=Object(c.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=W(),n=new b.a(b.a.givenProvider||A),a=new n.eth.Contract(E,F),x(a),y(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var k=function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.methods.safeSendToken(d,w,n).send({from:d}).then((function(){console.info("Sent successfully"),s()})).catch((function(e){console.error(e),i(I(e))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i(I(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(M,{show:t,onClose:r,children:Object(C.jsxs)("div",{className:"transfer-token-container",children:[Object(C.jsx)(g.a,{placeholder:"Destination address...",onChange:function(e){T(e.target.value)}}),Object(C.jsx)(j.a,{onClick:k,children:"Send Token"})]})})}var G=n(662);n(582);function P(e){var t=e.show,n=e.onClose,a=e.color,s=e.text;return Object(C.jsx)(M,{show:t,onClose:n,children:Object(C.jsx)(G.a,{id:"transition-modal-title",variant:"h6",component:"h2",color:a,children:s})})}n(583);function z(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),r=Object(l.a)(i,2),o=r[0],u=r[1],d=Object(a.useState)(),g=Object(l.a)(d,2),w=g[0],T=g[1],k=Object(a.useState)(null),S=Object(l.a)(k,2),M=S[0],I=S[1],N=Object(a.useState)(null),B=Object(l.a)(N,2),G=B[0],z=B[1],L=Object(a.useState)(null),J=Object(l.a)(L,2),U=J[0],R=J[1];Object(a.useEffect)((function(){Y()}),[]);var Y=function(){var e=Object(c.a)(p.a.mark((function e(){var t,n,a,i,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=W())){e.next=12;break}return n=new b.a(b.a.givenProvider||A),a=new n.eth.Contract(E,F),e.next=6,a.methods.getUserTokens(t).call();case 6:i=e.sent,r=i[0],o=i[1],s(t),u(r),T(o);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"my-tokens-container",children:[n?o&&w?0===o.length||0===w?Object(C.jsx)("span",{children:"You have no tokens yet"}):Object(C.jsx)(h.a,{component:v.a,children:Object(C.jsxs)(y.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(C.jsx)(x.a,{children:Object(C.jsxs)(O.a,{children:[Object(C.jsx)(m.a,{children:"Token ID"}),Object(C.jsx)(m.a,{align:"center",children:"Token Data"}),Object(C.jsx)(m.a,{align:"center",children:"Actions"})]})}),Object(C.jsx)(f.a,{children:o.map((function(e,t){var n=e.toString();return Object(C.jsxs)(O.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(C.jsx)(m.a,{component:"th",scope:"row",children:n.substring(0,5)+"..."+n.substring(n.length-5)}),Object(C.jsx)(m.a,{align:"center",children:w[t]}),Object(C.jsx)(m.a,{align:"center",children:Object(C.jsx)(j.a,{onClick:function(){I(M===e?null:e)},children:"Transfer"})})]},e)}))})]})}):Object(C.jsx)("span",{children:"Failed to load tokens"}):Object(C.jsx)("span",{children:"Connect your wallet"}),Object(C.jsx)(D,{show:!!M,tokenId:M,onError:function(e){z(e),R("red"),I(null)},onSuccess:function(){z("Token transferred successfully"),R("green"),I(null),Y()},onClose:function(){I(null)}}),Object(C.jsx)(P,{show:!!G,onClose:function(){I(null),z(null),R(null)},color:U,text:G})]})}n(584);var L=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),r=Object(l.a)(i,2),o=r[0],u=r[1],d=Object(a.useState)(),y=Object(l.a)(d,2),f=y[0],m=y[1],h=Object(a.useState)(),x=Object(l.a)(h,2),O=x[0],v=x[1],w=Object(a.useState)(),T=Object(l.a)(w,2),k=T[0],S=T[1];Object(a.useEffect)((function(){var e=function(){var e=Object(c.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(W()),t=new b.a(b.a.givenProvider||A),n=new t.eth.Contract(E,F),u(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var M=function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.methods.mint(f).send({from:n}).then((function(){console.info("Minted"),S(!0)})).catch((function(e){S(!1),v(I(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"mint-container",children:[n?Object(C.jsxs)("div",{children:[Object(C.jsx)(g.a,{placeholder:"Insert token data here...",multiline:!0,minRows:"4",onChange:function(e){return m(e.target.value)}}),Object(C.jsx)(j.a,{variant:"contained",className:"submit-btn",onClick:M,children:"Mint"})]}):Object(C.jsx)("span",{children:"Connect your wallet"}),Object(C.jsx)(P,{show:null!=k,onClose:function(){S(null),v(null)},color:k?"green":"red",text:k?"Minted":O})]})};var J=function(){return Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"This is Cappu"})})},U=n(670),R=n(672),Y=n(673),q=n(654),_=n(265),H=n.n(_),K=n(671),Q=n(660),V=n(652),X=n(656),Z=(n(585),function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(null),o=Object(l.a)(i,2),c=o[0],u=o[1],p=Object(a.useState)(null),d=Object(l.a)(p,2),b=d[0],j=d[1],y=[{title:"Mint",url:"/mint",noLogin:!1},{title:"My Tokens",url:"/my-tokens",noLogin:!1}],f=[{title:W(),login:!0},{title:"Connect Wallet",login:!1,onClick:function(){N().then((function(){s(B())}))}},{title:"Disconnect Wallet",login:!0,onClick:function(){window.sessionStorage.removeItem("account"),window.location.reload(),s(!1)}}];Object(a.useEffect)((function(){s(B())}),[]);var m=function(){u(null)};return Object(C.jsx)(U.a,{position:"static",children:Object(C.jsx)(K.a,{maxWidth:"xl",children:Object(C.jsxs)(R.a,{disableGutters:!0,children:[Object(C.jsx)(G.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:Object(C.jsx)(r.b,{to:"/",children:"Cappu"})}),n?Object(C.jsxs)(T.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(C.jsx)(Y.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(C.jsx)(H.a,{})}),Object(C.jsx)(q.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:m,sx:{display:{xs:"block",md:"none"}},children:y.map((function(e){return e.noLogin||n?Object(C.jsx)(X.a,{onClick:m,children:Object(C.jsx)(r.b,{to:e.url,children:Object(C.jsx)(G.a,{textAlign:"center",className:"header-nav-link-mobile",children:e.title})})},e.title):null}))})]}):null,Object(C.jsx)(G.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:Object(C.jsx)(r.b,{to:"/",children:"Cappu"})}),Object(C.jsx)(T.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:y.map((function(e){return e.noLogin||n?Object(C.jsx)(r.b,{to:e.url,className:"header-nav-item",children:Object(C.jsx)(G.a,{textAlign:"center",className:"header-nav-link-desktop",children:e.title})},e.title):null}))}),Object(C.jsxs)(T.a,{sx:{flexGrow:0},children:[Object(C.jsx)(V.a,{title:"Open settings",children:Object(C.jsx)(Y.a,{onClick:function(e){j(e.currentTarget)},sx:{p:0},children:Object(C.jsx)(Q.a,{alt:"Cappu",src:"/static/images/avatar/2.jpg"})})}),Object(C.jsx)(q.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:function(){j(null)},children:f.map((function(e){return e.login===n?Object(C.jsx)(X.a,{onClick:e.onClick,children:Object(C.jsx)(G.a,{textAlign:"center",children:e.title})},e.title):null}))})]})]})})})}),$=(n(589),function(){return Object(C.jsx)(U.a,{position:"static",children:Object(C.jsx)(K.a,{maxWidth:"xl",children:Object(C.jsx)(R.a,{disableGutters:!0,children:Object(C.jsx)(G.a,{className:"footer-copyright",children:"Cappu, The NFT Platform."})})})})});n(590),n(591),n(592),n(593),n(594);i.a.render(Object(C.jsxs)(r.a,{basename:"/cappu",children:[Object(C.jsx)(Z,{}),Object(C.jsx)("div",{className:"main-section",children:Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{path:"/",element:Object(C.jsx)(J,{})}),Object(C.jsx)(o.a,{path:"my-tokens",element:Object(C.jsx)(z,{})}),Object(C.jsx)(o.a,{path:"mint",element:Object(C.jsx)(L,{})})]})}),Object(C.jsx)($,{})]}),document.getElementById("root"))}},[[595,1,2]]]);
//# sourceMappingURL=main.0d7aef9e.chunk.js.map